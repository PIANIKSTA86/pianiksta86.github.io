<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema de Pedidos GILSA</title>
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
<div class="contenedor">

  <!-- HEADER -->
  <div class="header">
    <div>
      <h1>ğŸ“‹ Sistema de Pedidos</h1>
      <p>GestiÃ³n de clientes, productos y facturaciÃ³n</p>
      <div class="info-api" id="apiStatus">
        ğŸ”Œ Conectando con servidor...
      </div>
    </div>
  </div>

  <!-- ACCIONES PRINCIPALES -->
  <div class="acciones-principales">
    <button class="btn-primary" onclick="resetPedido()">ğŸ†• Nuevo Pedido</button>
    <button class="btn-primary" onclick="buscarCliente()">ğŸ” Buscar Cliente</button>
    <button class="btn-success" onclick="guardarPedido()">ğŸ’¾ Guardar / Imprimir</button>
  </div>

  <!-- SECCIÃ“N: DATOS DEL CLIENTE -->
  <div class="seccion">
    <div class="seccion-title">ğŸ“Œ Datos del Cliente</div>
    
    <div class="fila">
      <div class="bloque">
        <label>CÃ³digo Cliente</label>
        <input id="idCliente" onkeydown="handleClienteEnter(event)" placeholder="Ej: C001">
      </div>
      <div class="bloque">
        <label>Nombre / RazÃ³n Social</label>
        <input id="nombre" placeholder="Selecciona un cliente primero" readonly>
      </div>
      <div class="bloque">
        <label>NIT / CC</label>
        <input id="nit" placeholder="NIT del cliente" readonly>
      </div>
      <div class="bloque">
        <label>Fecha Pedido</label>
        <input type="date" id="fechaPedido" readonly>
      </div>
    </div>

    <div class="fila">
      <div class="bloque">
        <label>DirecciÃ³n</label>
        <input id="direccion" placeholder="DirecciÃ³n de envÃ­o" readonly>
      </div>
      <div class="bloque">
        <label>Ciudad / RegiÃ³n</label>
        <input id="ciudad" placeholder="Ciudad" readonly>
      </div>
      <div class="bloque">
        <label>Vendedor</label>
        <select id="vendedor"></select>
      </div>
      <div class="bloque">
        <label>Tipo de Precio</label>
        <input id="tipoPrecio" readonly placeholder="COP">
      </div>
    </div>
  </div>

  <!-- SECCIÃ“N: AGREGAR PRODUCTOS -->
  <div class="seccion">
    <div class="seccion-title">ğŸ“¦ Agregar Productos</div>
    
    <div class="fila">
      <div class="bloque">
        <label>CÃ³digo Producto</label>
        <input id="prodCodigo" onkeydown="handleProductoEnter(event)" placeholder="Ej: P001">
      </div>
      <div class="bloque">
        <label>DescripciÃ³n</label>
        <input id="prodDescripcion" placeholder="DescripciÃ³n" readonly>
      </div>
      <div class="bloque">
        <label>Referencia</label>
        <input id="prodReferencia" readonly>
      </div>
    </div>

    <div class="fila">
      <div class="bloque">
        <label>Cantidad</label>
        <input type="number" id="prodCantidad" oninput="calcularTotalLinea()" placeholder="0">
      </div>
      <div class="bloque">
        <label>Und</label>
        <input id="prodUnd" readonly>
      </div>
      <div class="bloque">
        <label>Precio USD</label>
        <input id="prodUSD" readonly>
      </div>
      <div class="bloque">
        <label>Precio COP</label>
        <input id="prodPrecioCOP" readonly>
      </div>
      <div class="bloque">
        <label>Total LÃ­nea</label>
        <input id="prodTotal" readonly>
      </div>
      <div class="bloque" style="justify-content: flex-end;">
        <label>&nbsp;</label>
        <button class="btn-success" onclick="agregarProducto()" style="width: 100%;">â• Agregar</button>
      </div>
    </div>
  </div>

  <!-- TABLA DETALLE DE PRODUCTOS -->
  <div class="seccion">
    <div class="seccion-title">ğŸ›’ Detalle del Pedido</div>
    <table class="tabla">
      <thead>
        <tr>
          <th>CÃ³digo</th>
          <th>DescripciÃ³n</th>
          <th style="text-align: center;">Cantidad</th>
          <th>Und</th>
          <th>Referencia</th>
          <th style="text-align: right;">Precio</th>
          <th style="text-align: right;">Total</th>
          <th style="text-align: center;">AcciÃ³n</th>
        </tr>
      </thead>
      <tbody id="detalle"></tbody>
    </table>
  </div>

  <!-- RESUMEN DEL PEDIDO -->
  <div class="seccion">
    <div class="seccion-title">ğŸ’° Resumen del Pedido</div>
    
    <div class="fila full">
      <div class="bloque">
        <input id="detalleAdicional" placeholder="Notas o comentarios especiales">
      </div>
    </div>

    <div class="resumen">
      <div class="resumen-item">
        <div class="resumen-item-label">Ãtems</div>
        <div class="resumen-item-valor" id="totalItems">0</div>
      </div>
      <div class="resumen-item">
        <div class="resumen-item-label">Cantidad Total</div>
        <div class="resumen-item-valor" id="totalCantidad">0</div>
      </div>
      <div class="resumen-item">
        <div class="resumen-item-label">Total Pedido</div>
        <div class="resumen-item-valor" id="totalPedido">$0</div>
      </div>
    </div>
  </div>

</div>

<!-- IMPORTS -->
<script src="js/config.js"></script>
<script src="js/api.js"></script>
<script src="js/app.js"></script>

</body>
</html>
